<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¬è©¦é é¢ - ilovem2444</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/mail.css">
    <link rel="stylesheet" href="css/responsive.css">
    <style>
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 2px solid #333;
            padding: 15px;
            border-radius: 8px;
            z-index: 99999;
            max-width: 300px;
            font-size: 12px;
        }
        .debug-info h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .debug-info p {
            margin: 5px 0;
            color: #666;
        }
        .debug-success {
            color: green;
        }
        .debug-error {
            color: red;
        }
    </style>
</head>
<body>
    <!-- é™¤éŒ¯è³‡è¨Š -->
    <div class="debug-info">
        <h3>ğŸ” é™¤éŒ¯è³‡è¨Š</h3>
        <p id="utilsStatus">Utils: è¼‰å…¥ä¸­...</p>
        <p id="authStatus">Auth: è¼‰å…¥ä¸­...</p>
        <p id="appStatus">App: è¼‰å…¥ä¸­...</p>
        <p id="functionStatus">å…¨å±€å‡½æ•¸: æª¢æŸ¥ä¸­...</p>
    </div>

    <!-- ç™»å…¥é é¢ -->
    <div id="loginPage" class="page active">
        <div class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">
                        <i class="fas fa-robot"></i>
                        <h1>ilovem2444</h1>
                    </div>
                    <p class="tagline">æ¸¬è©¦ç‰ˆæœ¬ - åŠŸèƒ½è¨ºæ–·</p>
                </div>
                
                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">
                            <i class="fas fa-envelope"></i>
                            é›»å­éƒµä»¶
                        </label>
                        <input type="email" id="loginEmail" required placeholder="test@example.com" value="test@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">
                            <i class="fas fa-lock"></i>
                            å¯†ç¢¼
                        </label>
                        <input type="password" id="loginPassword" required placeholder="Test1234" value="Test1234">
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i>
                        ç™»å…¥
                    </button>
                    
                    <div class="auth-divider">
                        <span>æˆ–</span>
                    </div>
                    
                    <button type="button" class="btn btn-outline btn-block" onclick="testShowRegister()">
                        <i class="fas fa-user-plus"></i>
                        è¨»å†Šæ–°å¸³è™Ÿï¼ˆæ¸¬è©¦ï¼‰
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- è¨»å†Šé é¢ -->
    <div id="registerPage" class="page">
        <div class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">
                        <i class="fas fa-robot"></i>
                        <h1>ilovem2444</h1>
                    </div>
                    <p class="tagline">å»ºç«‹æ‚¨çš„å°ˆå±¬å¸³è™Ÿ</p>
                </div>
                
                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <label for="registerName">
                            <i class="fas fa-user"></i>
                            å§“å
                        </label>
                        <input type="text" id="registerName" required placeholder="æ¸¬è©¦ç”¨æˆ¶" value="æ¸¬è©¦ç”¨æˆ¶">
                    </div>
                    
                    <div class="form-group">
                        <label for="registerEmail">
                            <i class="fas fa-envelope"></i>
                            é›»å­éƒµä»¶
                        </label>
                        <input type="email" id="registerEmail" required placeholder="test@example.com" value="test@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="registerPassword">
                            <i class="fas fa-lock"></i>
                            å¯†ç¢¼
                        </label>
                        <input type="password" id="registerPassword" required placeholder="Test1234" value="Test1234">
                    </div>
                    
                    <div class="form-group">
                        <label for="registerConfirmPassword">
                            <i class="fas fa-lock"></i>
                            ç¢ºèªå¯†ç¢¼
                        </label>
                        <input type="password" id="registerConfirmPassword" required placeholder="Test1234" value="Test1234">
                    </div>
                    
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox" id="agreeTerms" checked>
                            <span>æˆ‘åŒæ„æœå‹™æ¢æ¬¾å’Œéš±ç§æ”¿ç­–</span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-user-plus"></i>
                        è¨»å†Š
                    </button>
                    
                    <div class="auth-divider">
                        <span>æˆ–</span>
                    </div>
                    
                    <button type="button" class="btn btn-outline btn-block" onclick="testShowLogin()">
                        <i class="fas fa-sign-in-alt"></i>
                        è¿”å›ç™»å…¥
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- ä¸»æ‡‰ç”¨é é¢ -->
    <div id="appPage" class="page">
        <div style="padding: 40px; text-align: center;">
            <h1>âœ… ç™»å…¥æˆåŠŸï¼</h1>
            <p>å¦‚æœæ‚¨çœ‹åˆ°é€™å€‹é é¢ï¼Œè¡¨ç¤ºç™»å…¥åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚</p>
            <button class="btn btn-primary" onclick="testLogout()">ç™»å‡ºæ¸¬è©¦</button>
        </div>
    </div>

    <!-- Toast é€šçŸ¥ -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- è¼‰å…¥å‹•ç•« -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    
    <script>
        // æ¸¬è©¦è…³æœ¬
        function updateDebugStatus() {
            document.getElementById('utilsStatus').innerHTML = 
                typeof Utils !== 'undefined' ? 
                '<span class="debug-success">âœ“ Utils å·²è¼‰å…¥</span>' : 
                '<span class="debug-error">âœ— Utils æœªè¼‰å…¥</span>';
            
            document.getElementById('authStatus').innerHTML = 
                typeof Auth !== 'undefined' ? 
                '<span class="debug-success">âœ“ Auth å·²è¼‰å…¥</span>' : 
                '<span class="debug-error">âœ— Auth æœªè¼‰å…¥</span>';
            
            document.getElementById('appStatus').innerHTML = 
                typeof App !== 'undefined' ? 
                '<span class="debug-success">âœ“ App å·²è¼‰å…¥</span>' : 
                '<span class="debug-error">âœ— App æœªè¼‰å…¥ (æ­£å¸¸)</span>';
            
            const functionsOk = 
                typeof showLogin === 'function' && 
                typeof showRegister === 'function' && 
                typeof logout === 'function';
            
            document.getElementById('functionStatus').innerHTML = functionsOk ?
                '<span class="debug-success">âœ“ å…¨å±€å‡½æ•¸æ­£å¸¸</span>' : 
                '<span class="debug-error">âœ— å…¨å±€å‡½æ•¸æœªå®šç¾©</span>';
        }

        function testShowRegister() {
            console.log('æ¸¬è©¦ showRegister å‡½æ•¸');
            if (typeof showRegister === 'function') {
                showRegister();
            } else if (typeof Auth !== 'undefined' && typeof Auth.showRegister === 'function') {
                Auth.showRegister();
            } else {
                alert('showRegister å‡½æ•¸ä¸å­˜åœ¨ï¼');
            }
        }

        function testShowLogin() {
            console.log('æ¸¬è©¦ showLogin å‡½æ•¸');
            if (typeof showLogin === 'function') {
                showLogin();
            } else if (typeof Auth !== 'undefined' && typeof Auth.showLogin === 'function') {
                Auth.showLogin();
            } else {
                alert('showLogin å‡½æ•¸ä¸å­˜åœ¨ï¼');
            }
        }

        function testLogout() {
            if (typeof logout === 'function') {
                logout();
            } else if (typeof Auth !== 'undefined' && typeof Auth.logout === 'function') {
                Auth.logout();
            }
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œæ›´æ–°ç‹€æ…‹
        window.addEventListener('load', () => {
            setTimeout(updateDebugStatus, 500);
        });

        // DOMContentLoaded æ™‚ä¹Ÿæ›´æ–°ä¸€æ¬¡
        document.addEventListener('DOMContentLoaded', updateDebugStatus);
    </script>
</body>
</html>
